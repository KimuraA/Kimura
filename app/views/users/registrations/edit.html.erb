<div class = "container" id = "edit_profile_form">
  <div class="col-lg-12">
  </br>
  <h1 align="center">Update your profile</h1>
  </br>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>
    <div class="panel panel-default">
      <div class="panel-heading">

        <div class="form-group" align="center">
          <%= image_tag('avatar.png', id: "img-preview", width: 150, height: 150, alt: "", class: "") %>
          <br/><br/>
          <%= f.label :image, 'Add a photo or logo' %>
          <%= f.file_field :image, class: 'photo_upload', id: 'avatar-upload' %>
        </div>

        <div class="form-group">
          <%= f.label :first_name, "FIRST NAME" %>
          <%= f.text_field :first_name, autofocus: true, class: "form-control", placeholder: "FirstName", required: true %>
        </div>

        <div class="form-group">
          <%= f.label :last_name, "LAST NAME" %>
          <%= f.text_field :last_name, autofocus: true, class: "form-control" , placeholder: "LastName", required: true %>
        </div>

        <div class="form-group">
          <%= f.label :postcode, "POSTCODE" %>
          <%= f.text_field :postcode, autofocus: true, class: "form-control" , placeholder: "Enter postcode", required: true  %>
        </div>

        <div class="row"> 
          <div class="form-group col-md-6">
            <%= f.label :profession_id, "PROFESSION" %>
            </br>
            <%= f.select :profession_id, Profession.where.not(title: "Don't know").collect{|p| [p.title, p.id]}, {:include_blank => "-- SELECT ONE --"}, {class: "form-control", :onchange => remote_request(:post, '/change_categories', {:profession_id=>"$('#user_profession_id').val()"}, :user_skills), required: true } %>
          </div>
          <div class="form-group col-md-6">
            <%= f.label :skills, "SELECT YOUR SKILLS" %>
            </br>
            <% if f.object.profession_id.present? && !f.object.new_record? %>
              <%= f.select :skills, Profession.find_by_id(f.object.profession_id).try(:categories).collect{|c| [c.title, c.id]}, {}, {multiple: true, class: "dropdown form-control", required: true} %>
            <% else %>
              <%= f.select :skills, {}, {}, {multiple: true, class: "dropdown form-control", required: true} %>
            <% end %>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :overview, "OVERVIEW" %><i>(optional)</i>
          <%= f.text_area :overview, autofocus: true, class: "form-control" , placeholder: "Please describe your skills, your experience and the types of job you are looking for. A more detailed description will help you find more jobs.", rows: 20 %>
        </div>
       
        <br>
        <div class="form-group" id = "button">
          <%= f.submit "Update", class: "btn btn-success" %>
        </div>
      </div>
    </div>
  <% end %>
  </div>
</div>